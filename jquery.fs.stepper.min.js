/* 
 * Stepper v3.0.7 - 2014-07-10 
 * A jQuery plugin for cross browser number inputs. Part of the Formstone Library. 
 * http://formstone.it/stepper/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */ 

!function(a){"use strict";function b(b){b=a.extend({},m,b||{});for(var d=a(this),e=0,f=d.length;f>e;e++)c(d.eq(e),b);return d}function c(b,c){if(!b.hasClass("stepper-input")){c=a.extend({},c,b.data("stepper-options"));var g=parseFloat(b.attr("min")),h=parseFloat(b.attr("max")),i=parseFloat(b.attr("step"))||1;b.addClass("stepper-input").wrap('<div class="stepper '+c.customClass+'" />').after('<span class="stepper-arrow up">'+c.labels.up+'</span><span class="stepper-arrow down">'+c.labels.down+"</span>");var j=b.parent(".stepper"),l=a.extend({$stepper:j,$input:b,$arrow:j.find(".stepper-arrow"),min:void 0===typeof g||isNaN(g)?!1:g,max:void 0===typeof h||isNaN(h)?!1:h,step:void 0===typeof i||isNaN(i)?1:i,timer:null},c);l.digits=k(l.step),b.is(":disabled")&&j.addClass("disabled"),j.on("keypress",".stepper-input",l,d),j.on("blur",".stepper-input",l,e),j.on("touchstart.stepper mousedown.stepper",".stepper-arrow",l,f).data("stepper",l)}}function d(a){var b=a.data;if(38===a.keyCode||40===a.keyCode)a.preventDefault(),h(b,38===a.keyCode?b.step:-b.step);else if(46===event.keyCode){var c=b.$input.val();-1!==c.indexOf(".")&&a.preventDefault()}else 13===event.keyCode&&e(a)}function e(a){var b=a.data,c=b.$input.val();c=parseFloat(c);var d=c-b.min,e=Math.pow(10,b.digits),f=Math.round(d*e)%Math.round(b.step*e);0!==f&&(f/=e),b.$input.val(l(c,b.digits)),h(b,f)}function f(b){b.preventDefault(),b.stopPropagation(),g(b);var c=b.data;if(!c.$input.is(":disabled")&&!c.$stepper.hasClass("disabled")){var d=a(b.target).hasClass("up")?c.step:-c.step;c.timer=i(c.timer,125,function(){h(c,d,!1)}),h(c,d),a("body").on("touchend.stepper mouseup.stepper",c,g)}}function g(b){b.preventDefault(),b.stopPropagation();var c=b.data;j(c.timer),a("body").off(".stepper")}function h(a,b){var c=parseFloat(a.$input.val()),d=b;void 0===typeof c||isNaN(c)?d=a.min!==!1?a.min:0:a.min!==!1&&c<a.min?d=a.min:d+=c;var e=Math.pow(10,a.digits),f=Math.round((d-a.min)*e)%Math.round(a.step*e);0!==f&&(d-=f/e),a.min!==!1&&d<a.min&&(d=a.min),a.max!==!1&&d>a.max&&(d=a.max),d!==c&&(d=l(d,a.digits),a.$input.val(d).trigger("change"))}function i(a,b,c){return j(a),setInterval(c,b)}function j(a){a&&(clearInterval(a),a=null)}function k(a){var b=String(a);return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}function l(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c}var m={customClass:"",labels:{up:"Up",down:"Down"}},n={defaults:function(b){return m=a.extend(m,b||{}),a(this)},destroy:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$stepper.off(".stepper").find(".stepper-arrow").remove(),b.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled","disabled"),b.$stepper.addClass("disabled"))})},enable:function(){return a(this).each(function(){var b=a(this).data("stepper");b&&(b.$input.attr("disabled",null),b.$stepper.removeClass("disabled"))})}};a.fn.stepper=function(a){return n[a]?n[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:b.apply(this,arguments)},a.stepper=function(a){"defaults"===a&&n.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);